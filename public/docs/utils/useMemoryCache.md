# ç±»å‹å®šä¹‰

## `CacheItem<T>`

ç¼“å­˜é¡¹ç±»ï¼Œç”¨äºå­˜å‚¨ç¼“å­˜å€¼å’Œè¿‡æœŸæ—¶é—´ã€‚

### æ„é€ å‡½æ•°

```ts
constructor(value: T, ttl: number)
```

- **å‚æ•°**
  - `value: T` â€” ç¼“å­˜çš„å€¼
  - `ttl: number` â€” å­˜æ´»æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰

### å±æ€§

| å±æ€§ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `value` | `T` | ç¼“å­˜çš„å€¼ |
| `expireAt` | `number` | è¿‡æœŸæ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰ |

### æ–¹æ³•

#### `isExpired(): boolean`

æ£€æŸ¥ç¼“å­˜é¡¹æ˜¯å¦å·²è¿‡æœŸã€‚

- **è¿”å›å€¼**  
  `boolean` â€” å¦‚æœå½“å‰æ—¶é—´è¶…è¿‡è¿‡æœŸæ—¶é—´ï¼Œè¿”å› `true`ï¼›å¦åˆ™è¿”å› `false`

#### `refresh(ttl: number): void`

åˆ·æ–°ç¼“å­˜é¡¹çš„è¿‡æœŸæ—¶é—´ã€‚

- **å‚æ•°**
  - `ttl: number` â€” æ–°çš„å­˜æ´»æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰

---

## `UseMemoryCache`

å†…å­˜ç¼“å­˜ç±»ï¼Œæä¾›ç¼“å­˜çš„è®¾ç½®ã€è·å–ã€åˆ é™¤åŠè‡ªåŠ¨æ¸…ç†åŠŸèƒ½ã€‚

### æ„é€ å‡½æ•°

```ts
constructor(ttlMs: number = 5 * 60 * 1000)
```

- **å‚æ•°**
  - `ttlMs: number` â€” ç¼“å­˜é¡¹çš„é»˜è®¤å­˜æ´»æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ä¸º 5 åˆ†é’Ÿ

### æ–¹æ³•

#### `set<T>(key: string, value: T): void`

è®¾ç½®ç¼“å­˜å€¼ï¼Œå¸¦è¿‡æœŸæ—¶é—´ã€‚

- **å‚æ•°**
  - `key: string` â€” ç¼“å­˜é”®
  - `value: T` â€” ç¼“å­˜å€¼
- **æ³›å‹**
  - `T` â€” ç¼“å­˜å€¼çš„ç±»å‹

#### `get<T>(key: string): T | null`

è·å–ç¼“å­˜å€¼ï¼Œè‹¥ä¸å­˜åœ¨æˆ–å·²è¿‡æœŸåˆ™è¿”å› `null`ï¼Œå¹¶è‡ªåŠ¨åˆ é™¤è¿‡æœŸé¡¹ã€‚å‘½ä¸­æ—¶é‡ç½®è¿‡æœŸæ—¶é—´ï¼ˆæ»‘åŠ¨çª—å£è¯­ä¹‰ï¼‰ã€‚

- **å‚æ•°**
  - `key: string` â€” ç¼“å­˜é”®
- **è¿”å›å€¼**
  - `T | null` â€” ç¼“å­˜å€¼æˆ– `null`
- **æ³›å‹**
  - `T` â€” ç¼“å­˜å€¼çš„ç±»å‹

#### `has(key: string): boolean`

æ£€æŸ¥æŒ‡å®šé”®çš„ç¼“å­˜æ˜¯å¦å­˜åœ¨ä¸”æœªè¿‡æœŸã€‚

- **å‚æ•°**
  - `key: string` â€” ç¼“å­˜é”®
- **è¿”å›å€¼**
  - `boolean` â€” å­˜åœ¨ä¸”æœªè¿‡æœŸè¿”å› `true`ï¼Œå¦åˆ™ `false`

#### `delete(key: string): void`

åˆ é™¤æŒ‡å®šé”®çš„ç¼“å­˜é¡¹ã€‚

- **å‚æ•°**
  - `key: string` â€” ç¼“å­˜é”®

#### `clear(): void`

æ¸…ç©ºæ‰€æœ‰ç¼“å­˜é¡¹ã€‚

#### `size(): number`

è·å–å½“å‰ç¼“å­˜ä¸­æœ‰æ•ˆé¡¹çš„æ•°é‡ã€‚

- **è¿”å›å€¼**
  - `number` â€” ç¼“å­˜é¡¹æ•°é‡

#### `cleanup(): void`

æ¸…ç†æ‰€æœ‰å·²è¿‡æœŸçš„ç¼“å­˜é¡¹ï¼ˆå†…éƒ¨å®šæ—¶è°ƒç”¨ï¼Œæ¯åˆ†é’Ÿä¸€æ¬¡ï¼‰ã€‚

---

## å¯¼å‡ºæˆå‘˜

### `shareMemoryCache: UseMemoryCache`

å…¨å±€å…±äº«çš„å†…å­˜ç¼“å­˜å®ä¾‹ï¼Œé»˜è®¤ TTL ä¸º 5 åˆ†é’Ÿã€‚

```ts
export const shareMemoryCache = new UseMemoryCache();
```

> ğŸ’¡ å¯ç›´æ¥å¯¼å…¥ä½¿ç”¨ï¼Œé€‚ç”¨äºåº”ç”¨å†…é€šç”¨ç¼“å­˜åœºæ™¯ã€‚