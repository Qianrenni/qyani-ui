# useTimeDisplay 函数说明

## 参数

| 参数     | 类型                                       | 默认值         | 必填 | 说明                                                                 |
|--------|------------------------------------------|-------------|----|----------------------------------------------------------------------|
| `source`  | `Date \| string \| number \| undefined` | `undefined` | 否  | 时间源，可以是 Date 对象、时间戳或可解析为时间的字符串；未传时使用实时时间 |
| `format`  | `string`                                | `'YYYY-MM-DD HH:mm:ss'` | 否  | 时间格式化字符串；若包含 `{DD}{HH}{mm}{ss}` 视为倒计时模板             |
| `options` | `UseTimeDisplayOptions`               | `{}`        | 否  | 配置项，用于控制时间显示行为                                             |

### `UseTimeDisplayOptions` 接口

| 属性       | 类型                                                                 | 默认值      | 必填 | 说明                                                                 |
|----------|--------------------------------------------------------------------|-----------|----|----------------------------------------------------------------------|
| `locale`   | `string`                                                         | `'zh-CN'` | 否  | 本地化语言设置，影响时间格式化输出                                         |
| `autoStart` | `boolean`                                                        | `true`    | 否  | 是否在组件挂载时自动开始更新时间                                             |
| `interval` | `number`                                                         | `1000`    | 否  | 时间更新间隔（毫秒），适用于倒计时和实时时间模式                                 |
| `onFinish` | `() => void`                                                     | `undefined` | 否  | 倒计时结束时的回调函数                                                      |
| `mode`     | `'auto' \| 'countdown' \| 'format' \| 'realtime'`              | `'auto'`  | 否  | 显示模式：自动判断、倒计时、格式化显示、实时时间                                 |

## 返回值

- `Ref<string>`：响应式的时间字符串，根据配置和模式自动更新。

## 支持的模式

- `auto`：自动判断模式（未来时间 → 倒计时，过去时间 → 格式化显示）
- `countdown`：强制倒计时模式（目标时间在未来）
- `format`：强制格式化显示（目标时间在过去）
- `realtime`：实时时间模式（无目标时间）

## 暴露的方法（Expose）

| 方法名  | 参数 | 返回值 | 说明             |
|-------|----|-----|------------------|
| `start` | —  | —   | 开始时间更新（倒计时或实时时间） |
| `stop`  | —  | —   | 停止时间更新               |

> ⚠️ 注意：当前未定义 `defineExpose`，因此暴露的方法仅在函数内部可用或通过返回值控制。若需在组件外部调用，请确保通过 `defineExpose` 显式暴露。

## 示例

```ts
// 自动判断：未来 → 倒计时，过去 → 格式化
const time = useTimeDisplay('2025-12-31', '{DD}天{HH}小时{mm}分{ss}秒');

// 强制格式化
const fixed = useTimeDisplay('2020-01-01', 'PPP', { mode: 'format' });

// 实时时间
const now = useTimeDisplay(undefined, 'HH:mm:ss');
```